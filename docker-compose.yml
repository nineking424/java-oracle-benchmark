services:
  benchmark:
    build: .
    container_name: java-oracle-benchmark
    environment:
      - DB_HOST=${DB_HOST:-host.docker.internal}
      - DB_PORT=${DB_PORT:-1521}
      - DB_SERVICE=${DB_SERVICE:-ORCL}
      - DB_USER=${DB_USER:-system}
      - DB_PASSWORD=${DB_PASSWORD:-oracle}
      - BATCH_SIZE=${BATCH_SIZE:-1000}
      - RECORD_COUNT=${RECORD_COUNT:-100000}
      - ITERATIONS=${ITERATIONS:-3}
    volumes:
      - ./benchmark-results:/app/benchmark-results
    extra_hosts:
      - "host.docker.internal:host-gateway"
